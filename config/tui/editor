" set 'insert' mode as default
start

" enable mouse only for 'insert', 'visual' and 'command' mode
set mouse=ivc

" set blinking cursor
set guicursor=i-ci-ve:ver25-blinkon100

" Deselect current selection to prevent extend selection on scroll
snoremap <ScrollWheelUp> <Esc><ScrollWheelUp>
snoremap <ScrollWheelDown> <Esc><ScrollWheelDown>

" display line numbers
set number

" always display sign column (for example, lsp diagnostic erros set appropriate character here)
set signcolumn=yes
highlight clear SignColumn

" tab settings
set tabstop=4
set shiftwidth=4
set smarttab
set expandtab

augroup NvimIdePerLangAutoCmds
    autocmd!

    " tabs but not spaces for golang
    autocmd FileType go set noexpandtab
augroup END

" indents
set autoindent
set smartindent

" TODO: to use ClosePairs, AutoClose, DelimitMate and AutoClose plugins to autoclose brackets
" TODO: clangformat should be intorduced for c++. Or 'cindent' and 'cinoptions' vim options

" prevent escape from moving the cursor one character to the left
let CursorColumnI = 0 "the cursor column position in INSERT
autocmd InsertEnter * let CursorColumnI = col('.')
autocmd CursorMovedI * let CursorColumnI = col('.')
autocmd InsertLeave * if col('.') != CursorColumnI | call cursor(0, col('.')+1) | endif

" set 'selection', 'selectmode', 'mousemodel' and 'keymodel' for MS-Windows
behave mswin

" backspace and cursor keys wrap to previous/next line
set backspace=indent,eol,start whichwrap+=<,>,[,]

" CTRL-X is Cut
vmap <C-x> d<Esc>i

" CTRL-C is Copy
vmap <C-c> y

" TODO: copy selected text to system clipboard (possibly it is not needed)

" TODO: to fix register content after replace-paste
" CTRL-V is Paste
map <C-v> gPi
imap <C-v> <C-O>gP
vmap <C-v> <C-O>gP
snoremap <C-v> <C-g>gP
cmap <C-v> <C-r>"
"     in 'terminal' mode
tmap <C-v> <C-\><C-N><C-v>

" CTRL-Z is Undo
noremap <C-z> u
inoremap <C-z> <C-O>u
smap <C-z> <Esc><C-z>

" CTRL-R is Redo
nnoremap <C-M-z> <C-r>
inoremap <C-M-z> <C-O><C-r>
snoremap <C-M-z> <Esc><C-r>

" CTRL-A is Select all
noremap <C-A> gggH<C-O>G
inoremap <C-A> <C-O>gg<C-O>gH<C-O>G
cnoremap <C-A> <C-C>gggH<C-O>G
onoremap <C-A> <C-C>gggH<C-O>G
snoremap <C-A> <C-C>gggH<C-O>G
xnoremap <C-A> <C-C>ggVG

" Tab selected text
snoremap <Tab> <C-g>>

" Goto begin/end of file
" <C-home>
" <C-end>

" Goto line
noremap <C-g> :
inoremap <C-g> <C-O>:
snoremap <C-g> <Esc>:

